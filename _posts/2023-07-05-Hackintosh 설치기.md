---
title: Hackintosh 설치기
date: 2023-07-05 22:00:00 +0900
categories: [Development, Etc]
tags: [hackintosh, macos]
---
지금까지는 macOS에 대한 필요성을 잘 느끼지 못했다. 일단 나는 앱 개발을 직접 하는 사람도 아니었고, 그리고 실제 기기를 만지는 것 보다는 브라우저 상에서 어떻게 예쁘게, 어떻게 잘 돌아가게 만들지 고민하는 게 더 중요한 사람이었다.  
이 모든 건 엄마가 "앱 하나만 만들어 줘"라는 거에서 시작했다. (이걸 알면 엄마가 많이 후회하긴 할 것이다)  
간단한 앱이었다. 네이버 블로그씨처럼 하루에 하나씩 주제를 던져주고, 이걸 기록할 수 있게 하는 앱이었다. 다만 서버도 있어야 되고 (벡엔드가 있어야 된다는 것이었다) 그런 상황이었을 뿐이다.  
결정적으로 "웹사이트로 만들어주면 돼?"라는 대답에 "앱으로 나오면 더 좋고"라는 대답을 한 게 문제였다. React Native를 배워보고 싶은 생각은 있었지만 실제로 어떤 앱을 만들어야 할 지를 잘 몰랐고, 지금까지는 앱이 필요한 순간에 웹으로 떼울 수 있다고 생각했기 떄문이었다.  
가장 먼저 생각난 건 T3 Stack이었다. 최근에 T3 Stack, 그 중 tRPC에 대해 알게 되었고 나중에 한 번 써 보고 싶다는 생각을 해 보았다. (Backend API와 Frontend API를 잇는 것은 어려운 일이다) 찾다 보니, expo라는 Framework와 함께 T3 Stack을 이용하여 Web과 Native 환경을 둘 다 구축할 수 있게 해주는 template이 있었다.  
여기서부터 문제가 발생한다.  
기본적으로 나는 Windows 개발 환경에서 작업하던 사람이었다. 일단 내가 산 게 Windows / Linux 용으로 산 ThinkPad X4 Carbon이었고, 지금까지 Windows 노트북으로 쓰면서 매우 만족하고 있었다. 다만 Windows의 가장 맘에 안드는 것은 개발 환경이었는데, Line Break가 꼬인다던가 (그놈의 CRLF) 아니면 Permission이 꼬인다던지, 아니면 Shell이 느리다던지 등의 이유로 WSL 또는 Linux 서버를 집에 설치해 놓고 쓰고 있었다.  
근데 React Native를 개발하려고 보니 이게 안되는게 많았다. 일단 서버에서 개발을 시작한다 하면 서버에다가 내 핸드폰을 꽂아야 하는 말도 안되는 상황이 나오고, 그렇다고 Virtual Machine이 잘 돌아가는 것도 아니고 (안다 KVM이라는 게 있다는 거... 근데 그게 ADB가 안되잖아?) 그렇다고 VNC를 설치하는 짓도 하고 싶지 않았다. 애초에 서버에 X11을 까는 것은 죄다. (너무 꼰대같은 발상인가. 암튼.)  
결정적으로 iOS 빌드를 하려면 맥이 필요했다.  
그렇게, 난 해킨토시를 하기로 마음 먹었다.
# Proxmox에 macOS 깔아보기
해킨토시를 바로 시작하려고 했던 것은 아니다. Proxmox가 이미 있었기 때문에, 대충 서버 몇 대를 정리하고, 데이터를 백업하고, macOS를 깔아 보았다.
[Nicholas Sherlock님의 Installing macOS 13 Ventura on Proxmox 7.2](https://www.nicksherlock.com/2022/10/installing-macos-13-ventura-on-proxmox/)라는 블로그 글이 있다. 되게 도움 많이 받았다. 중간에 막혔던 부분은 설명에 나온 대로 Ventura-recovery.img를 만들면 설치 중간에 에러가 나면서 설치가 중단된다. 이 문제는 놀랍게도 애플이 설치 미디어에 장난질을 쳐 놔서 중요한 파일이 설치 미디어에 포함되어 있지 않은 버전이 현재 배포되고 있다는 것이었다.

# 해킨토시 설치 USB 만들기
해킨토시 설치를 해 본 적은 없었다. 지금까지 VMware에 깔아서 써 