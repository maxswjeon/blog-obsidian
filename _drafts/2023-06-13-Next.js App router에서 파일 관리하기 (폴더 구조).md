---
title: Next.js App router에서 파일 관리하기 (폴더 구조)
date: 2023-06-13 12:00 +0900
categories: [Development, Web]
tags: [next.js, app router]
---
Next.js 13.3 버전부터 App Router(일부는 App Directory라고 하기고 하더라)가 Stable로 승격되면서 pages를 사용하던 이전 프로젝트에서 관리하던 폴더 구조(Directory Structure)에 대한 생각을 해 보아야 겠다는 생각을 하게 되었다.
# App Router
App router는 기존 `pages/` 아래에 파일 이름으로 Route를 생성하던 것과 달리 `app/` 폴더 안에 폴더 이름으로 Route를 생성한다. 즉 다음과 같은 변화가 있다
- 일반적인 Nested Route
	- `pages/foo/bar.tsx`
	- `app/foo/bar/page.tsx`
- Catch Route
	- `pages/foo/[id].tsx`
	- `app/foo/[id]/page.tsx`
- Catch Nested Routes
	- `pages/foo/[...slug].tsx`
	- `app/foo/[...slug]/page.tsx`
- Catch All Nexted Routes
	- `pages/foo/[[...slug]].tsx`
	- `app/foo/[[...slug]]/page.tsx`
이런 차이로 생기는 장점은 app directory에 내 마음대로 파일을 넣어도 Route에 영향을 미치지 않는다는 점이다. 따라서 `pages/` 폴더를 사용할 때 (즉 page router를 사용할 때) view라는 이름으로 따로 폴더를 만들거나 그럴 필요가 없어졌다는 것이다.
실제로 나는 이전에 대형 프로젝트를 진행할 때 Fragment, Fragment Group, Section, Component이라는 개념을 새로 만들어서 사용했던 적이 있다. 그때 사용했던 기준은 다음과 같았다.
- Fragment
	- 독립된 URL을 가지지는 않지만, 화면 전체를 차지하는 UI Component를 말합니다. 
	- Fragment를 사용하는 Page에서만 사용되어야 합니다.
- Fragment